<section class="bg-gradient-to-b from-surface to-surface2 rounded p-4 sm:p-6">
  <h1 class="text-xl sm:text-2xl font-bold mb-1 leading-tight">AsagiScans</h1>
  <p class="text-sm sm:text-base text-gray-300">Your source for high-quality manga translations.</p>
  <div class="mt-3 flex flex-wrap gap-2">
    <% allGenres.forEach(genre => { %>
      <a href="/?genre=<%= genre %>" class="px-3 py-1 rounded-full bg-surface hover:bg-surface2 text-sm"><%= genre %></a>
    <% }); %>
  </div>
</section>

<h2 class="text-lg sm:text-xl font-semibold mt-5 mb-3">Manga Library</h2>
<div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4">
  <% mangaLibrary.forEach(manga => { %>
    <article class="group bg-surface rounded-lg overflow-hidden hover:ring-2 hover:ring-brand transition">
      <a href="/manga/<%= manga.slug %>" class="block">
        <div class="relative w-full pt-[150%] bg-surface2 overflow-hidden">
          <img src="<%= manga.cover %>" alt="<%= manga.title %>" class="absolute inset-0 w-full h-full object-cover">
          <div class="absolute top-2 left-2 flex flex-wrap gap-1">
            <% if (manga.isNew) { %>
              <span class="px-2 py-0.5 text-[10px] font-semibold rounded-full bg-emerald-500/90 text-white uppercase tracking-wide">New</span>
            <% } %>
            <% if (manga.isHot) { %>
              <span class="px-2 py-0.5 text-[10px] font-semibold rounded-full bg-orange-500/90 text-white uppercase tracking-wide">Hot</span>
            <% } %>
          </div>
          <% if (manga.isAdult) { %>
            <div class="absolute top-2 right-2">
              <span class="px-2 py-0.5 text-[10px] font-semibold rounded-full bg-rose-600 text-white uppercase tracking-wide">18+</span>
            </div>
          <% } %>
        </div>
      </a>
      <div class="p-3 space-y-2">
        <a href="/manga/<%= manga.slug %>" class="block">
          <h3 class="text-sm font-semibold line-clamp-2 group-hover:text-brand"><%= manga.title %></h3>
        </a>
        <% if (manga.latestChapters && manga.latestChapters.length) { %>
          <div class="space-y-1">
            <% manga.latestChapters.forEach(chapter => { %>
              <a href="/manga/<%= manga.slug %>/<%= chapter.slug %>" class="flex items-center justify-between gap-2 rounded bg-surface2/80 hover:bg-surface text-[11px] px-2 py-1 text-gray-300 hover:text-white">
                <span class="line-clamp-1"><%= chapter.title %></span>
                <span class="text-[10px] uppercase tracking-wide text-gray-400">Read</span>
              </a>
            <% }); %>
          </div>
        <% } %>
      </div>
    </article>
  <% }); %>
</div>

<div class="mt-6 flex items-center justify-center gap-2">
  <% for(let i = 1; i <= totalPages; i++) { %>
    <a class="px-3 py-1.5 rounded <%= i == currentPage ? 'bg-brand text-white' : 'bg-surface hover:bg-surface2' %>" href="/?<%= q ? `q=${q}&` : '' %><%= genre ? `genre=${genre}&` : '' %>page=<%= i %>"><%= i %></a>
  <% } %>
  </div>
